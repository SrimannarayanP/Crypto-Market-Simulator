<!-- place_order.html -->


<!DOCTYPE html>

<html lang = 'en'>

    <head>
        <meta charset = 'UTF-8'>
        <meta name = 'viewport' content = "width = device-width, initial scale = 1.0">

        <title>Place Order</title>

        <link rel = 'stylesheet' href = 'https://maxcdn.bootstrapcdn.com/bootstrap/4.5.2/css/bootstrap.min.css'>

        <style>
            body {
                background-color : #f0f2f5;
            }

            .container {
                margin-top : 50px;
                max-width : 500px;                                                                          
            }

            .alert {
                display : none;
            }
        </style>
    </head>

    <body>
        <div class = 'container'>
            <h2 class = 'text-center'>Place an order</h2>

            <div class = "alert alert-success" id = 'successMessage'>Order placed successfully!</div>
            <div class = "alert alert-danger" id = 'errorMessage'>Error placing order. Please try again!</div>

            <form id = 'orderForm'>
                <div class = 'form-group'>
                    <label for = 'order_type'>Order Type : </label>

                    <select id = 'order_type' name = 'order_type' class = 'form-control'>
                        <option value = 'buy'>Buy</option>
                        <option value = 'sell'>Sell</option>
                    </select>
                </div>

                <div class = 'form-group'>
                    <label for = 'asset'>Cryptocurrency : </label>
                    <input type = 'text' id = 'asset' name = 'asset' class = 'form-control' placeholder = "e.g. BTC" required>
                </div>

                <div class = 'form-group'>
                    <label for = 'quantity'>Quantity</label>
                    <input type = 'number' step = '0.0001' id = 'quantity' name = 'quantity' class = 'form-control' required>
                </div>

                <button type = 'submit' class = "btn btn-primary stn-block">Submit Order</button>
            </form>
        </div>

        <script src = 'https://code.jquery.com/jquery-3.5.1.min.js'></script>

        <script>
            $('#orderForm').on('submit', function(event) {
                event.preventDefault();

                $.ajax({
                    url : '/place_order',
                    type : 'POST',
                    data : $(this).serialize(),
                    success : function() {
                        $('#successMessage').show().delay(3000).fadeOut();
                        $('#orderForm')[0].reset();
                    },
                    error : function() {
                        $('#errorMessage').show().delay(3000).fadeOut();
                    }
                });
            });
        </script>
    </body>
    
</html>
